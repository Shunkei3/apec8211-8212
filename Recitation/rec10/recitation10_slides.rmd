---
title: "APEC8211: Recitation 10"
author: 
  - "Shunkei Kakimoto" 
header-includes:
   - \usepackage{mathtools}
   - \usepackage{color}
   - \usepackage{amsmath}
output:
  xaringan::moon_reader:
    self_contained: true
    css: ../xaringan-themer.css 
    lib_dir: libs
    nature: 
      highlightStyle: github
      highlightLines: true
---
class: middle

```{r, child = '../setup.rmd', cache = FALSE}
```

```{r xaringan-scribble, echo=FALSE}
xaringanExtra::use_scribble()
```


```{r setup, include=FALSE, cache = FALSE, eval=F}
options(htmltools.dir.version = FALSE)

# /*===== Reference =====*/
suppressMessages(library(RefManageR))

BibOptions(
  check.entries = FALSE,
  bib.style = "authoryear",
  style = "markdown",
  hyperlink = FALSE,
  dashed = TRUE,
  max.names = 2,
  longnamesfirst = FALSE
)
bib <- ReadBib("cite.bib")
```

```{r, include = F, cache = FALSE}
library(data.table)
library(ggplot2)
library(dplyr)
library(gganimate)
library(gifski)
library(gganimate)
# library(learnr)
```

```{r, include = F, eval=F, cache = FALSE}
httpgd::hgd()
httpgd::hgd_browse()
```

```{r xaringan-tachyons, echo=FALSE}
xaringanExtra::use_tachyons()
```


.content-box-green[**A Useful tip:**]

hitting letter "o" key will give you a panel view of the slides


---
class: middle

# Outline
1.[Review Resampling methods](#Resampling)
2. [Code review for assignment 7](#code)

---
class: inverse, center, middle
name: Resampling

# Resampling methods

<html><div style='float:left'></div><hr color='#EB811B' size=1px width=796px></html>

---
class: middle

+ Paired bootstrap
+ Wild bootstrap
  * can handle heteroskedasticity better than paired bootstrap

+ Compare Paired bootstrap and Wild bootstrap under the presence of heteroskedasticity


---
class: inverse, center, middle
name: code

# Code review for assignment 7

<html><div style='float:left'></div><hr color='#EB811B' size=1px width=796px></html>

<!-- https://cran.r-project.org/web/packages/foreach/vignettes/foreach.html -->


---
class: middle

## `foreach()` from `foreach` package

`foreach()` function is another way of doing loop.

<br>

.content-box-green[**Basic syntax**]

```{r, eval=F}
foreach(iterating variables)%do%{
  iterating operations
}
```

<br>

.content-box-green[**NOTE 1**:]

The syntax of `for each` function looks alike `for loop` function, but it's different in a couple of details. 

+ Iterating variables are specified like `i=1:5` not `i in 1:5`
+ You need `%do%`

---
class: middle

.content-box-green[**Example**] Compute $\sqrt{x}$ for $x=\{1,2,3\}$.


.left5[
.content-box-blue[`foreach` way]
.medium-code[
```{r}
library(foreach)

result <- 
  foreach(i=1:3, .combine="c") %do%{
    sqrt(i)
  }

result
```
  ]
]

.right5[
.content-box-blue[`for loop` way]
.medium-code[
```{r}
# You need an empty object to store results!!
result <- c() 

for(i in 1:3){
    result[i] <- sqrt(i)
  }

result
```
  ]
]

.content-box-green[**NOTE 2**:]

`foreach()` returns the results in a list (by default).
  * the output can be you can  `.combine` to specify 
  * 
+ note that you need to create an object to store results before starting `for loop`!!


So, unlike `for loop`, you don't need to create a storage object in using `foreach`. 

???
+ `foreach()` is different from `for loop` function in that `foreach()` returns 

---
## Parallel computing using `foreach` package

`foreach()` can do with 

+ https://ethen8181.github.io/Business-Analytics/R/efficient_looping/efficient_looping.html

```{r}

```

---






